---
import { NavBar } from "./NavBar"
---

<!-- Announcement bar -->
<div class="fixed top-0 left-0 right-0 z-50 bg-bg backdrop-blur-md text-accent text-[10px] text-center py-1.5 border-b border-border">
    Maple is now available â€” <a href="https://app.maple.dev" class="underline underline-offset-2 hover:text-fg transition-colors">get started for free</a>
</div>

<nav id="main-nav" class="fixed top-[28px] left-0 right-0 z-50 border-b border-border bg-bg/95 backdrop-blur-md transition-colors duration-200">
    <div class="mx-auto max-w-6xl px-6 h-14">
        <NavBar client:load />
    </div>
</nav>

<script>
    const nav = document.getElementById("main-nav");
    if (nav) {
        const update = () => {
            if (window.scrollY > 100) {
                nav.classList.add("border-white/15");
                nav.classList.remove("border-border");
            } else {
                nav.classList.remove("border-white/15");
                nav.classList.add("border-border");
            }
        };
        window.addEventListener("scroll", update, { passive: true });
        update();
    }
</script>
