---
interface Props {
    current: string;
}

const { current } = Astro.props;

const features = [
    { slug: "distributed-tracing", label: "Distributed Tracing", description: "Follow every request across services" },
    { slug: "log-management", label: "Log Management", description: "Search and correlate logs instantly" },
    { slug: "metrics-dashboards", label: "Metrics & Dashboards", description: "Track every signal that matters" },
    { slug: "service-catalog", label: "Service Catalog & Map", description: "All your services at a glance" },
    { slug: "error-tracking", label: "Error Tracking", description: "Find and fix errors faster" },
    { slug: "ai-mcp-integration", label: "AI & MCP Integration", description: "AI-powered diagnostics via MCP" },
];

const filtered = features.filter(f => f.slug !== current).slice(0, 3);
---

<section class="py-24 md:py-32">
    <div class="mx-auto max-w-6xl px-6">
        <span class="text-[11px] text-accent uppercase tracking-wider">Explore more</span>
        <h2 class="mt-3 text-2xl md:text-3xl font-bold text-fg mb-12">Related features</h2>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-px bg-border border border-border">
            {filtered.map(f => (
                <a href={`/features/${f.slug}`} class="bg-bg p-6 md:p-8 hover:bg-muted/10 transition-colors group">
                    <h3 class="text-base font-semibold text-fg mb-2 group-hover:text-accent transition-colors">{f.label}</h3>
                    <p class="text-sm text-fg-muted leading-relaxed">{f.description}</p>
                    <span class="mt-4 inline-block text-xs text-accent">Learn more &rarr;</span>
                </a>
            ))}
        </div>
    </div>
</section>
